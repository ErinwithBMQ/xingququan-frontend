import{r as n,j as e,b as l,c as u,a as h}from"./index-D0tWTQow.js";function m(){const[s,i]=n.useState(""),[o,c]=n.useState(""),d=async t=>{if(t.preventDefault(),!s||!o){alert("用户名和密码不得为空！");return}try{const a=await l.get("http://127.0.0.1:7001/user/find_user",{params:{name:s}});if(console.log("检测是否有用户"),a.data!==!1){console.log(a.data,"检测到用户信息");const r=await l.post("http://127.0.0.1:7001/user/secret",{name:s,secret:o});r.data!==!1?(alert("你已经成功登录!"),console.log(r.data),localStorage.setItem("token",r.data.token),window.location.href="/xqq_choose.html"):(console.log("密码错误"),alert("密码错误。"))}else console.log("未检测到用户信息"),alert("用户不存在。请先注册。")}catch(a){console.error(a),alert("登录失败。出现问题。")}};return e.jsx("div",{children:e.jsxs("div",{className:"shell",children:[e.jsxs("form",{onSubmit:d,children:[e.jsx("h2",{className:"title",children:" Login"}),e.jsx("input",{type:"text",id:"username",placeholder:"Username",value:s,onChange:t=>i(t.target.value)}),e.jsx("input",{type:"password",id:"password",placeholder:"Password",value:o,onChange:t=>c(t.target.value)}),e.jsx("input",{type:"submit",value:"Login",id:"registerBtn"})]}),e.jsxs("div",{className:"footer",children:[e.jsx("div",{className:"Remember"}),e.jsx("button",{id:"Password",onClick:()=>window.location.href="/register.html",children:"去注册"})]})]})})}u.createRoot(document.getElementById("root")).render(e.jsx(h.StrictMode,{children:e.jsx("div",{children:e.jsx(m,{})})}));
